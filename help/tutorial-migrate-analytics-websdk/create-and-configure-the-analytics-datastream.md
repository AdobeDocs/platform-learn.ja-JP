---
title: データストリームの作成と設定
description: Web サイトデータをAdobe Analyticsにルーティングできるように新しいデータストリームを作成および設定する方法について説明します。
solution: Data Collection, Analytics
feature: Web SDK
jira: KT-16757
source-git-commit: 7ae56d997884cf1558e72c0ad553df1c5d43c081
workflow-type: tm+mt
source-wordcount: '617'
ht-degree: 0%

---


# データストリームの作成と設定

Web サイトデータをAdobe Analyticsにルーティングできるように新しいデータストリームを作成および設定する方法について説明します。

このレッスンでは、web サイトからAdobe Analyticsにデータが送られ、そこからAdobe Edgeにルーティングされるようにシステムを作成および設定する方法を学びます。

![ アーキテクチャ図 ](assets/architecture_diagram.jpg)

## 新しい開発データストリームの作成

1. Adobeデータ収集インターフェイスを開きます。
   1. ブラウザーでhttps://experience.adobe.comに移動します。
   1. ページの上部で正しい組織が選択されていることを確認します（例：下の画像のAdobe実稼働 – テクニカルマーケティングデモ）。
   1. アプリケーションスイッチャーと呼ばれる「9 つのドット」をクリックし、「データ収集 **を選択** ます。

      ![ データ収集に移動 ](assets/navigate-to-data-collection.jpg)

1. 左側のナビゲーションの **[!UICONTROL データストリーム]** に移動します
1. **[!UICONTROL 新規データストリーム]** を選択します。
1. 目的の **[!UICONTROL 名前]** を入力し、これが web SDK開発環境に使用されることを示すインジケーターを含めます。 例えば、次に示すように、サイトに続けてこの名前を付けることができます。 この名前は後でタグプロパティに web SDK拡張機能を設定する際に参照されるので、メモしておいてください。 必要に応じて、説明を入力します。

   >[!NOTE]
   >
   >[ データ収集のためのデータ準備 ](https://experienceleague.adobe.com/ja/docs/platform-learn/data-collection/edge-network/data-prep) 機能を使用する場合にのみ、スキーマを選択する必要があります。このチュートリアルでは、この機能を使用しません。 詳しくは、リンクを参照してください。

1. 「**[!UICONTROL 保存]**」を選択します

   ![ データストリームの作成 ](assets/create-new-datastream.jpg)

1. データストリームが保存されると、新しい画面が表示され、まだサービスが設定されていないことを知らせます。 つまり、お客様のデータはEdge サーバーに送信されますが、サービスを追加するまでは、どのアプリケーションにも送信されません。 次に、データをAdobe Analyticsに送信するようにデータストリームを設定します。 **[!UICONTROL サービスを追加]** をクリックします。
   ![ サービスを追加 ](assets/datastream-add-service.jpg)
1. サービス ドロップダウンメニューで、「**[!UICONTROL Adobe Analytics]**」を選択します。
1. 「レポートスイート ID」フィールドで、[ 検証レポートスイートを作成 ](create-a-validation-report-suite.md) アクティビティで作成した検証レポートスイートの ID （タイトルではなく、レポートスイート ID です）を入力します。 「**[!UICONTROL 保存]**」をクリックします。

## ステージングおよび実稼動データストリーム

ここで、同じ手順をもう 2 回 **繰り返します** ステージング環境と実稼動環境の 2 回）。 これらの追加の 2 つのデータストリームを設定する際には、次の注意事項があります。

### ステージングデータストリーム

* データストリームに名前を付ける場合（および説明を追加する場合）は、同じ名前を使用できますが、「開発」ではなく「ステージング」を追加する点が異なります。
* 前と同じようにAdobe Analytics サービスを追加し、レポートスイートを同じ開発レポートスイートに設定します。
* Adobe Analytics レポートでステージング番号を確認する場合は、ステージング用に新しいレポートスイートを作成し、このデータストリームの Analytics サービスでそのレポートスイートを指していることを確認します。

### 実稼動データストリーム

* データストリームに名前を付ける場合（および説明を追加する場合）、「開発」ではなく「実稼動」を追加する点が異なり、同じ名前を使用する必要があります。
* データのマッピング先のレポートスイートを選択すると、開発レポートスイートや新しいレポートスイートを選択する代わりに、AppMeasurementの実装から提供される **現在の** 実稼動レポートスイートにこのデータストリームをマッピングできます。 移行が完了し、テストして数に満足したら、古いAppMeasurementコードを削除し、タグライブラリを実稼動環境に送信します。また、新しい実稼動データを同じ実稼動レポートスイートにフィードすることで、古い実装と新しい実装を継続できます。
