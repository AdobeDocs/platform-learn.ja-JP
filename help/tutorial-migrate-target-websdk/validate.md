---
title: Web SDK を使用した Target の実装の検証 | at.js 2.x から Web SDK への Target の移行
description: Adobe Experience Platform Web SDK を使用して、アクティビティを検証し、Adobe Target実装をデバッグする方法について説明します。
source-git-commit: dad7a1b01c4313d6409ce07d01a6520ed83f5e89
workflow-type: tm+mt
source-wordcount: '1098'
ht-degree: 0%

---

# Platform Web SDK の実装を検証する

Target 実装を at.js から Platform Web SDK に移行した後は、実稼動サイトに変更を公開する前に、すべてが正しく動作していることを検証することが重要です。 Adobeでは、以下を推奨します。このページの詳細について説明します。

* 技術的な検証を実行して、基本的な実装、Platform Web SDK のリクエストと応答が正しく表示されることを確認します
* Target アクティビティが適切に配信およびレンダリングされていることを確認する
* レポートが正しく機能することの確認
* オーディエンスとプロファイルスクリプトを再訪問し、Platform Web SDK との互換性があることを確認します。
* Adobeまたはサードパーティアプリケーションとの統合が正しく動作することを確認する

Target の実装は、使用するサイトのアーキテクチャと機能に応じて異なります。 以下の表を基に、実装に固有の項目を追加できます。 この [デバッグページ](debugging.md) このチュートリアルでは、この検証に役立つツールについて説明します。

## 技術的検証

| 検証項目 | メモ |
|---|---|
| at.js の事前非表示スニペットがページに存在しなくなりました。 | Platform Web SDK は、ID を持つスタイルを自動的に削除しません `at-body-style`. この古いスニペットをページに残すと、スニペットのタイムアウトに達するまで非表示のコンテンツになります。 |
| at.js ライブラリがページに存在しなくなりました | ブラウザーの開発者ツールコンソールに「adobe.target」オブジェクトがないことを確認します。 Platform Web SDK と at.js の両方を含めると、意図しないレンダリング動作が発生します |
| 想定されるパラメーターは、 `sendEvent` リクエスト |  |
| Recommendationsカタログは、ページリクエストを使用してカタログに入力する場合、期待どおりに更新されます |  |
| プロファイルパラメーターが Target に正常に渡されました | デバッガーでのエッジトレースの表示 |
| データストリームマッパーで XDM にマッピングされたパラメーターは、Target に正しく渡されます | Debugger および/または Assurance の Edge Trace 機能を使用した検証 |
| ターゲットコンテンツが該当する `sendEvent` 回答 | 期待されるタイミング `renderDecisions` オプションが `true` またはスコープがリクエストされ、ユーザーが特定の Target アクティビティの対象となる |
| A `decisioning.propositionDisplay` イベントが発生しました。 | 自動的にレンダリングされたアクティビティとオンデマンドでレンダリングされたアクティビティでは、個別のイベント呼び出しが必要です |
| A `decisioning.propositionDisplay` フォームベースのアクティビティのレンダリング後に発生するイベント | 特定の実装にのみ適用されます。 この呼び出しを実行するには、カスタムコードが必要です。 |
| A `decisioning.propositionDisplay` イベントは、SPAビューの変更時にオファーが適用されたときに発生します | SPA実装にのみ適用可能 |
| A `decisioning.propositionDisplay` 特定のビューに対してSPAコンポーネントが再レンダリングする際に、イベントが発生しません | SPA実装にのみ適用可能 |
| A `decisioning.propsitionInteract` イベントがアクティビティコンバージョン後に発生する | at.js から移行された「要素のクリック」とカスタムコンバージョン `trackEvent` または `sendNotifications` は別々のイベント呼び出しを持つと想定されます |
| レスポンストークンは `sendEvent` 応答し、期待された値を持つ | レスポンストークンは、Web SDK で通常どおり機能します |
| ECID は、Web SDK および at.js を使用したページ間で一貫しています | ページごとの移行に適用されます。 リダイレクトオファーは、これらのタイプの移行では機能しないと想定されています |


## アクティビティの配信とレンダリング

| 検証項目 | メモ |
|---|---|
| ページ読み込み時に VEC ベースのアクティビティが正しくレンダリングされる | カスタムコードの変更と、要素の並べ替えやテキストの置き換えなどの基本的な変更の両方を検証することをお勧めします |
| VEC ベースのアクティビティは、SPA表示の変更に合わせて適切にレンダリングされます | SPA実装にのみ適用可能 |
| フォームベースのアクティビティが正しくレンダリングされる | 特定の実装にのみ適用されます。 フォームベースのアクティビティをレンダリングするには、at.js と同様のカスタムコードが必要です。 |
| リダイレクトを使用するアクティビティが正しく機能する | リダイレクトは、ソースページと宛先ページの両方で Platform Web SDK を使用している場合にサポートされます。 at.js ページから Platform Web SDK ページへの Target のリダイレクト、またはその逆の方法はサポートされていません。 |
| リモートオファーを使用するアクティビティは、正しく機能します | 一般的ではない場合は、リモートオファー用の Target オファー在庫を確認してください |
| ちらつきは適切に緩和される | ちらつき処理はオプションですが、適切な緩和戦術が、最適なページパフォーマンスとユーザーエクスペリエンスのために期待どおりに動作することを確認します |
| QA リンクが期待どおりに動作 | 機能しない場合は、web.webPageDetails.URL がブラウザーの URL と完全に一致していることを確認します |
| 一般的に使用されるすべてのオファータイプが期待どおりにレンダリングされます |  |

## レポート

| 検証項目 | メモ |
|---|---|
| 訪問者は VEC ベースのアクティビティに関連付けられます | ページ読み込みの変更とSPAビューの変更の両方で、レポートが期待どおりに動作することを検証するのが最適です |
| 訪問者はフォームベースのアクティビティに関連付けられます | 使用するレンダリングアプローチに応じて、実装では、 `decisioning.propositionDisplay` イベント |
| 標準のコンバージョン目標が適切にキャプチャされる | レポートソースとして Target または Analytics に適用されます |
| 注文のコンバージョンと詳細が適切にキャプチャされます | 監査レポートの確認 |
| クリック追跡コンバージョンが適切にキャプチャされている |  |
| カスタムコンバージョンの目標が適切にキャプチャされる | 例えば、コンバージョン目標は at.js から移行されたものです。 `trackEvent` または `sendNotifications` （「mbox が表示された」目標で一般的に使用される） |

## オーディエンスとプロファイルスクリプト

| 検証項目 | メモ |
|---|---|
| ライブアクティビティで使用されるオーディエンスは、Platform Web SDK と互換性があります | 「カスタム」（mbox パラメーター）コンポーネントを使用するオーディエンスは、XDM 属性を含むように更新する必要があります |
| すべてのプロファイルスクリプトは、Platform Web SDK と互換性があります | mbox パラメーターを使用するプロファイルスクリプトは、XDM 属性を含むように更新する必要があります |
| Target オーディエンスに返されるアクティビティ | Platform Web SDK との互換性を持たせるために、変更するオーディエンスに対してエンドツーエンドの検証を実行することをお勧めします |
| プロファイルスクリプトは期待どおりに評価されます | デバッガーでのエッジトレースの表示 |

## Adobe・アプリケーションとの統合

| 検証項目 | メモ |
|---|---|
| アクティビティのオーディエンスに返されるExperience Cloud | 例えば、Adobe Analyticsから公開されたセグメント |
| アクティビティのオーディエンスに返されるExperience Platform | RTCDP のようなExperience Platform・ベースのアプリケーションのライセンスを持っている場合にのみ適用されます |
| アクティビティのオーディエンスに返されるAudience Manager | 例えば、特定のページへの訪問に基づくセグメントなどです |
| Analysis Workspaceに表示される Target アクティビティデータ | Adobe Analyticsをレポートソースとして使用するアクティビティに適用されます |

## サードパーティアプリケーションとの統合

| 検証項目 | メモ |
|---|---|
| レスポンストークンのデータがサードパーティのアプリケーションに適切に渡される | 統合の方法は異なる場合がありますが、一般的な方法は、 Target のレスポンストークンを使用して、アクティビティとエクスペリエンスの情報をGoogle Analyticsなどの他の分析ツールに渡すことです |
| サードパーティからの情報は、XDM またはプロファイルデータとして渡されます | サードパーティからの関連情報はすべて渡す必要があります `sendEvent` Target への呼び出し |

上記の検証手順を実行した後、Platform Web SDK の実装が実稼動環境に移行する準備ができていることを確認できます。

次に、 [Platform Web SDK を使用した Target 実装のトラブルシューティング](debugging.md).

>[!NOTE]
>
>at.js から Web SDK への Target の移行を成功に導くための支援に努めています。 移行時に障害が発生した場合や、このガイドに重要な情報が欠落していると思われる場合は、 [このコミュニティディスカッション](https://experienceleaguecommunities.adobe.com/t5/adobe-experience-platform-launch/tutorial-discussion-implement-adobe-experience-cloud-with-web/td-p/444996).