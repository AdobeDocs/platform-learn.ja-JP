---
title: Web SDK での Target 実装の検証 – Target を at.js 2.x から Web SDK に移行します
description: Adobe Experience Platform Web SDK を使用してアクティビティを検証し、Adobe Target実装をデバッグする方法について説明します。
exl-id: 09b4ebeb-fae9-470d-8ea9-f6e3c7d7da5e
source-git-commit: d4308b68d6974fe47eca668dd16555d15a8247c9
workflow-type: tm+mt
source-wordcount: '1093'
ht-degree: 0%

---

# Platform Web SDK 実装の検証

Target 実装を at.js から Platform Web SDK に移行した後、実稼動サイトに変更を公開する前に、すべてが正しく機能していることを検証することが重要です。 Adobeでは次のことをお勧めします。詳しくは、このページを参照してください。

* 技術検証を実行し、基本的な実装および Platform Web SDK のリクエストと応答が正しいことを確認します
* Target アクティビティが適切に配信およびレンダリングされることを確認します。
* レポートが正しく機能することを確認します
* オーディエンスとプロファイルスクリプトを再確認して、Platform Web SDK と互換性があることを確認します
* Adobeまたはサードパーティアプリケーションとの統合が正しく機能することを確認します

Target の実装は、使用するサイトのアーキテクチャと機能によって異なります。 以下の表を出発点として使用し、実装に固有の項目を追加することができます。 このチュートリアルの [ デバッグページ ](debugging.md) には、この検証に役立つツールが表示されています。

## 技術的検証

| 検証項目 | メモ |
|---|---|
| at.js の事前非表示スニペットがページに存在しません | Platform Web SDK は、ID `at-body-style` のスタイルを自動的に削除しません。 この古いスニペットをページに残すと、スニペットタイムアウトに達するまでコンテンツが非表示になります。 |
| at.js ライブラリがページに存在しません | ブラウザーの開発者ツールコンソールに「adobe.target」オブジェクトがないことを確認します。 Platform Web SDK と at.js の両方を含めると、意図しないレンダリング動作が発生する |
| 想定されるパラメーターは、`sendEvent` リクエストの XDM およびデータオブジェクトにあります | |
| ページリクエストを使用してカタログに値を入力する場合、Recommendations カタログが期待どおりに更新されます | |
| プロファイルパラメーターが Target に正常に渡されました | Debugger でのEdge トレースの表示 |
| データストリームマッパーで XDM にマッピングされたパラメーターは、Target に正しく渡されます | Debugger や Assurance のEdge Trace 機能を使用した検証 |
| Target コンテンツは、該当する `sendEvent` 応答で返されます | オプションが `true``renderDecisions` 設定されている場合か、範囲がリクエストされ、ユーザーが特定の Target アクティビティの対象となる場合に想定されます |
| `decisioning.propositionDisplay` イベントは、VEC ベースのアクティビティのレンダリング後に発生します | 自動的かつオンデマンドにレンダリングされるアクティビティでは、別々のイベント呼び出しが想定されます |
| `decisioning.propositionDisplay` イベントは、フォームベースのアクティビティのレンダリング後に発生します | 特定の実装にのみ適用できます。 この呼び出しを実行するには、カスタムコードが必要です。 |
| `decisioning.propositionDisplay` イベントは、オファーがSPA ビューの変更に適用されたときに発生します | SPA実装にのみ適用できます |
| SPA コンポーネントが特定のビューに対して再レンダリングされる場合、`decisioning.propositionDisplay` イベントは発生しません | SPA実装にのみ適用できます |
| `decisioning.propsitionInteract` イベントは、アクティビティのコンバージョン後に発生します | at.js `trackEvent` または `sendNotifications` から移行された「要素をクリック済み」とカスタムコンバージョンには、別々のイベント呼び出しが想定されています |
| 応答トークンは、`sendEvent` 応答で返され、期待値を持ちます。 | Web SDK では、応答トークンは通常どおりに機能します |
| ECID は、Web SDK および at.js を使用したページ間で一貫しています | ページごとの移行に適用されます。 これらのタイプの移行では、リダイレクトオファーは機能しないはずです |


## アクティビティの配信とレンダリング

| 検証項目 | メモ |
|---|---|
| VEC ベースのアクティビティは、ページの読み込み時に適切にレンダリングされる | カスタムコードの変更と、要素の並べ替えやテキストの置換などの基本的な変更の両方を検証することをお勧めします |
| VEC ベースのアクティビティは、SPA ビューの変更で適切にレンダリングされます | SPA実装にのみ適用できます |
| フォームベースのアクティビティが正しくレンダリングされる | 特定の実装にのみ適用できます。 フォームベースのアクティビティをレンダリングするには、at.js に類似したカスタムコードが必要です。 |
| リダイレクトを使用するアクティビティは正しく機能します | ソースおよび宛先ページの両方で Platform Web SDK を使用している場合、リダイレクトがサポートされます。 at.js ページから Platform Web SDK ページへの Target リダイレクト、またはその逆の方法はサポートされていません。 |
| リモートオファーを使用するアクティビティが正しく機能する | 一般的ではありません。リモートオファーの Target オファーインベントリを確認してください |
| フリッカーを適切に軽減する | ちらつきの処理はオプションですが、最適なページパフォーマンスとユーザーエクスペリエンスを得るために、設定した軽減策が期待どおりに機能していることを確認します |
| QA リンクが期待どおりに動作する | 機能しない場合は、web.webPageDetails.URL がブラウザーの URL と完全に一致することを確認します |
| よく使用されるオファータイプはすべて、期待どおりにレンダリングされます |  |

## レポート

| 検証項目 | メモ |
|---|---|
| 訪問者は VEC ベースのアクティビティに関連付けられます | ページ読み込みの変更とSPA ビューの変更の両方で、レポートが期待どおりに動作することを検証することをお勧めします |
| 訪問者はフォームベースのアクティビティに関連付けられます | 使用するレンダリングアプローチに応じて、`decisioning.propositionDisplay` イベントを実行するために実装でカスタムコードが必要になる場合があります |
| 標準変換目標が適切に取り込まれている | レポートソースとして Target または Analytics に適用されます |
| 注文のコンバージョンおよび詳細が適切にキャプチャされている | 監査レポートの確認 |
| クリック追跡コンバージョンが適切にキャプチャされている |  |
| カスタムコンバージョン目標が適切に取り込まれている | 例えば、at.js `trackEvent` または `sendNotifications` から移行されたコンバージョン目標は、「mbox を閲覧」目標で一般的に使用されます |

## オーディエンスとプロファイルスクリプト

| 検証項目 | メモ |
|---|---|
| ライブアクティビティで使用されるオーディエンスは、Platform Web SDK と互換性があります | 「カスタム」（mbox パラメーター）コンポーネントを使用するオーディエンスは、XDM 属性を含めるように更新する必要があります |
| すべてのプロファイルスクリプトは、Platform Web SDK と互換性があります | mbox パラメーターを使用するプロファイルスクリプトは、XDM 属性を含めるように更新する必要があります |
| アクティビティがターゲットオーディエンスに返される | Platform Web SDK と互換性を持たせるために変更するオーディエンスに対してエンドツーエンドの検証を実行することをお勧めします |
| プロファイルスクリプトが期待どおりに評価される | Debugger でのEdge トレースの表示 |

## Adobeアプリケーションとの統合

| 検証項目 | メモ |
|---|---|
| アクティビティがExperience Cloudオーディエンスに返される | 例えば、Adobe Analyticsから公開されたセグメントです |
| アクティビティがExperience Platformオーディエンスに返される | RTCDP などのExperience Platformベースのアプリケーションのライセンスがある場合にのみ適用されます |
| アクティビティがAudience Managerオーディエンスに返される | 例えば、特定のページへの訪問に基づくセグメントなどです |
| Target アクティビティデータがAnalysis Workspaceに表示される | Adobe Analyticsをレポートソースとして使用するアクティビティに適用されます |

## サードパーティアプリケーションとの統合

| 検証項目 | メモ |
|---|---|
| 応答トークンデータがサードパーティのアプリケーションに正しく渡される | 統合アプローチは様々ですが、一般的な方法は、Target レスポンストークンを使用して、アクティビティとエクスペリエンスの情報をGoogle Analyticsなどの他の分析ツールに渡すことです |
| サードパーティからの情報は、XDM またはプロファイルデータとして渡されます | サードパーティからのすべての関連情報は、Target への呼び出し `sendEvent` 渡す必要があります |

上記の検証手順を実行すれば、Platform Web SDK 実装を実稼動に移行する準備が整ったことが確認できます。

次に、Platform Web SDK を使用した Target 実装のトラブルシューティング [ 方法を説明 ](debugging.md) ます。

>[!NOTE]
>
>アドビは、at.js から Web SDK への Target の移行を成功させるために取り組んでいます。 移行の際に問題が発生した場合、またはこのガイドに重要な情報が欠落していると感じる場合は、[ このコミュニティのディスカッション ](https://experienceleaguecommunities.adobe.com/t5/adobe-experience-platform-data/tutorial-discussion-migrate-target-from-at-js-to-web-sdk/m-p/575587#M463) に投稿してお知らせください。
